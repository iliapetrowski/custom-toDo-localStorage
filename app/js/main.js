!function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./src/js/main.js")}({"./src/js/func.js":
/*!************************!*\
  !*** ./src/js/func.js ***!
  \************************/
/*! exports provided: worked */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"worked\", function() { return worked; });\nfunction worked() {\n  console.log('импорт работает');\n}\n\n//# sourceURL=webpack:///./src/js/func.js?")},"./src/js/main.js":
/*!************************!*\
  !*** ./src/js/main.js ***!
  \************************/
/*! no exports provided */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _func__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./func */ "./src/js/func.js");\n\nObject(_func__WEBPACK_IMPORTED_MODULE_0__["worked"])();\nvar inputTitle = document.querySelector(\'#inputTitle\');\nvar inputText = document.querySelector(\'#inputText\');\nvar formChecked = document.querySelectorAll(\'.form-check-input\');\nvar addTaskButton = document.querySelector(\'#add_task_submit\');\nvar taskList = document.querySelector(\'#currentTasks\');\naddTaskButton.addEventListener(\'click\', submitForm);\nvar completedTasks = document.querySelector(\'#completedTasks\');\n\nfunction submitForm() {\n  var key = new Date().getTime().toString();\n  var date = new Date();\n  var newTask = {\n    priority: null,\n    title: inputTitle.value,\n    text: inputText.value,\n    hour: date.getHours(),\n    minutes: date.getMinutes(),\n    day: date.getDay(),\n    month: date.getMonth(),\n    year: date.getFullYear(),\n    complete: false\n  };\n  formChecked.forEach(function (item, index) {\n    if (item.checked) {\n      newTask.priority = formChecked[index].value;\n    }\n  });\n  localStorage.setItem(key, JSON.stringify(newTask)); //taskLoop()\n}\n\nfunction taskLoop() {\n  completedTasks.innerHTML = \'\';\n  taskList.innerHTML = \'\';\n\n  for (var i = 0; i < localStorage.length; i++) {\n    var key = localStorage.key(i);\n    var taskObj = JSON.parse(localStorage.getItem(key));\n    taskGenerator(taskObj, key);\n  }\n}\n\nfunction taskGenerator(taskObj, key) {\n  var hour = taskObj.hour;\n  var minutes = taskObj.minutes;\n  var day = taskObj.day - 1;\n  var month = taskObj.month;\n  var year = taskObj.year;\n\n  if (hour < 10) {\n    hour = "0" + hour;\n  }\n\n  if (day < 10) {\n    day = "0" + day;\n  }\n\n  if (month < 10) {\n    month = "0" + month;\n  }\n\n  if (minutes < 10) {\n    minutes = "0" + minutes;\n  }\n\n  var taskCard = "<li class=\\"list-group-item d-flex w-100 mb-2\\" id=".concat(key, " >\\n\\t\\t\\t\\t\\t<div class=\\"w-100 mr-2\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\"d-flex w-100 justify-content-between\\">\\n\\t\\t\\t\\t\\t\\t\\t<h5 class=\\"mb-1\\">").concat(taskObj.title, "</h5>\\n\\t\\t\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t\\t\\t<small class=\\"mr-2\\">").concat(taskObj.priority, " priority</small>\\n\\t\\t\\t\\t\\t\\t\\t\\t<small>").concat(hour, ":").concat(minutes, "  ").concat(day, ".").concat(month, ".").concat(year, " </small>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<p class=\\"mb-1 w-100\\">").concat(taskObj.text, "</p>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\"dropdown m-2 dropleft\\">\\n\\t\\t\\t\\t\\t\\t<button class=\\"btn btn-secondary h-100\\" type=\\"button\\" id=\\"dropdownMenuItem2\\" data-toggle=\\"dropdown\\" aria-haspopup=\\"true\\" aria-expanded=\\"false\\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\\"fas fa-ellipsis-v\\"></i>\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t<div class=\\"dropdown-menu p-2 flex-column\\" aria-labelledby=\\"dropdownMenuItem1\\">\\n\\t\\t\\t\\t\\t\\t\\t<button type=\\"button\\" class=\\"btn btn-success w-100\\">Complete</button>\\n\\t\\t\\t\\t\\t\\t\\t<button type=\\"button\\" class=\\"btn btn-info w-100 my-2\\" data-toggle=\\"modal\\" data-target=\\"#exampleModal\\">Edit</button>\\n\\t\\t\\t\\t\\t\\t\\t<button type=\\"button\\" class=\\"btn btn-danger w-100\\">Delete</button>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</li>");\n\n  if (taskObj.complete) {\n    completedTasks.innerHTML += taskCard;\n  } else {\n    taskList.innerHTML += taskCard;\n  }\n\n  taskOptions(taskCard, key, taskObj);\n}\n\nfunction taskOptions(item, key, taskObj) {\n  var successBtn = document.querySelectorAll(\'.dropdown > .dropdown-menu > .btn-success\');\n  var deleteBtn = document.querySelectorAll(\'.dropdown > .dropdown-menu > .btn-danger\');\n  var editBtn = document.querySelectorAll(\'.dropdown > .dropdown-menu > .btn-info\');\n  successBtn.forEach(function (item) {\n    return item.addEventListener(\'click\', completeTask);\n  });\n  editBtn.forEach(function (item) {\n    return item.addEventListener(\'click\', function () {\n      editTask.bind(item)();\n    });\n  });\n}\n\nfunction completeTask() {\n  var task = JSON.parse(localStorage.getItem(this.closest(\'.list-group-item\').id));\n  var idTask = this.closest(\'.list-group-item\').id;\n  task.complete = !task.complete;\n  localStorage.setItem(idTask, JSON.stringify(task));\n  taskLoop(); //console.log(JSON.parse(localStorage.getItem(this.closest(\'.list-group-item\').id)).complete)\n}\n\nfunction editTask() {\n  var id = this.closest(\'.list-group-item\').id;\n  var taskItem = JSON.parse(localStorage.getItem(id));\n  inputTitle.value = taskItem.title;\n  inputText.value = taskItem.text;\n  formChecked.forEach(function (item, index) {\n    if (item.checked) {\n      formChecked.value = item.checked;\n    }\n  });\n  console.log(taskItem);\n}\n\ntaskLoop();\n\n//# sourceURL=webpack:///./src/js/main.js?')}});
//# sourceMappingURL=main.js.map
